(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67ec58f2"],{4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return s(t)}function o(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id="4678"},a8b7:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-row",{staticClass:"el-row",attrs:{gutter:24}},[s("el-col",{staticClass:"el-card",staticStyle:{height:"300px"},attrs:{span:12}},[s("healthDegree",{ref:"healthDegree"})],1),s("el-col",{staticClass:"el-card",staticStyle:{height:"300px"},attrs:{span:12}},[s("governRank",{ref:"governRank"})],1),s("el-col",{staticClass:"el-card",attrs:{span:24}},[s("governProblem",{ref:"governProblem"})],1)],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticStyle:{height:"300px"},attrs:{id:"healthDegreeChart","v-loading":e.isLoading}})])},i=[],l=s("313e"),r=(s("99af"),s("b775")),c="/governance",d={globalScore:function(){return Object(r["a"])({url:"".concat(c,"/globalScore"),method:"get"})},getRankList:function(){return Object(r["a"])({url:"".concat(c,"/rankList"),method:"get"})},getProblemList:function(e,t,s){return Object(r["a"])({url:"".concat(c,"/problemList/").concat(e,"/").concat(t,"/").concat(s),method:"get"})},getProblemNum:function(){return Object(r["a"])({url:"".concat(c,"/problemNum"),method:"get"})},assess:function(e){return Object(r["a"])({url:"".concat(c,"/assess/").concat(e),method:"post"})}},b={data:function(){return{isLoading:!1,sumScore:60,scoreList:[60,75,90,100,50]}},mounted:function(){this.init()},methods:{toggleLoading:function(e){this.isLoading=e},init:function(){var e=this;this.setChartData(),d.globalScore().then((function(t){e.sumScore=t.sumScore,console.log(e.sumScore),e.scoreList=t.scoreList,e.setChartData()})).catch((function(e){console.log("失败"+e)}))},setChartData:function(){var e={title:{text:"健康度总分"},series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:100,splitNumber:8,axisLine:{lineStyle:{width:6,color:[[.6,"#FF6E76"],[.75,"#FDDD60"],[.9,"#58D9F9"],[1,"#7CFFB2"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"60%",width:5,offsetCenter:[200,"-100%"],itemStyle:{color:"auto"}},axisTick:{length:10,lineStyle:{color:"auto",width:1}},splitLine:{length:15,lineStyle:{color:"auto",width:3}},axisLabel:{color:"#464646",fontSize:15,distance:-45,formatter:function(e){return e>=90?"优":e>=75?"良":e>=60?"中":e<60?"差":void 0}},title:{offsetCenter:[0,"0%"],fontSize:15},detail:{fontSize:30,offsetCenter:[0,"30%"],valueAnimation:!0,formatter:function(e){return e+"分"},color:"auto"},data:[{value:this.sumScore,name:""}],center:["25%","55%"],radius:95},{name:"Budget vs spending",type:"radar",data:[{value:this.scoreList,name:"Allocated Budget",label:{show:!0,formatter:function(e){return e.value}},areaStyle:{color:new l["graphic"].RadialGradient(.1,.6,1,[{color:"rgba(255, 145, 124, 0.1)",offset:0},{color:"rgba(255, 145, 124, 0.9)",offset:1}])}}]}],radar:{indicator:[{name:"规范",max:100},{name:"存储",max:100},{name:"计算",max:100},{name:"质量",max:100},{name:"安全",max:100}],center:["75%","45%"],radius:90}},t=l["init"](document.getElementById("healthDegreeChart"));t.setOption(e)}}},u=b,f=s("2877"),g=Object(f["a"])(u,o,i,!1,null,null,null),h=g.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("br"),s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._m(0),s("el-button",{staticStyle:{float:"right",padding:"1px 0"},attrs:{type:"text"},on:{click:function(t){return e.showDialog()}}},[e._v("重新评估")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.isLoading,data:e.rankData,stripe:"","show-header":!0,"row-style":{padding:"0"}}},[s("el-table-column",{attrs:{prop:"tecOwner",label:"负责人",width:"250px"}}),s("el-table-column",{attrs:{prop:"score",label:"评分"}})],1),s("el-dialog",{attrs:{title:"填写考评日期",visible:e.initDialogVisible,width:"60%"},on:{"update:visible":function(t){e.initDialogVisible=t}}},[s("el-form",[s("el-form-item",{attrs:{label:"考评日期"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.assessDate,callback:function(t){e.assessDate=t},expression:"assessDate"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.assess()}}},[e._v("确 定")])],1)],1)],1)},j=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("strong",[e._v("治理考评榜")])])}],p=s("c1df"),v=s.n(p),k={data:function(){return{assessDate:"",initDialogVisible:!1,isLoading:!1,globalSize:0,activeUserTotal:0,newUserCount:0,newOrderUserCount:0,userChurn:0,userBack:0,tableCount:0,rankData:[{tecOwner:"张三",score:99},{tecOwner:"李四",score:96},{tecOwner:"如果显示该数据",score:93},{tecOwner:"说明你的后台数据接口不可访问",score:88}]}},mounted:function(){this.init()},methods:{init:function(){this.getRankList()},toggleLoading:function(e){this.isLoading=e},getRankList:function(){var e=this;d.getRankList().then((function(t){e.rankData=t})).catch((function(e){console.log("失败"+e)}))},assess:function(){var e=this,t=this.$loading({lock:!0,text:"处理中，请稍候",spinner:"el-icon-loading"}),s=v()(this.assessDate).format("YYYY-MM-DD");d.assess(s).then((function(s){e.$parent.$parent.$parent.refresh(),e.$message({message:"调度完成",type:"success"}),e.closeDialog(),t.close()})).catch((function(e){console.log("失败"+e),t.close()}))},showDialog:function(){this.assessDate="",this.initDialogVisible=!0},closeDialog:function(){this.initDialogVisible=!1,this.assessDate=""}}},y=k,w=Object(f["a"])(y,m,j,!1,null,null,null),L=w.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"grid-content bg-purple"},[s("br"),e._m(0),s("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"规范 "+(e.problemNum["SPEC"]?e.problemNum["SPEC"]:0),name:"first"}}),s("el-tab-pane",{attrs:{label:"存储 "+(e.problemNum["STORAGE"]?e.problemNum["STORAGE"]:0)}}),s("el-tab-pane",{attrs:{label:"计算 "+(e.problemNum["CALC"]?e.problemNum["CALC"]:0)}}),s("el-tab-pane",{attrs:{label:"质量 "+(e.problemNum["QUALITY"]?e.problemNum["QUALITY"]:0)}}),s("el-tab-pane",{attrs:{label:"安全 "+(e.problemNum["SECURITY"]?e.problemNum["SECURITY"]:0)}})],1),s("el-table",{staticStyle:{height:"380px"},attrs:{data:e.problemList,"v-loading":e.isLoading,"row-style":{padding:"0"}}},[s("el-table-column",{attrs:{prop:"assessDate",label:"考评日期",width:"100"}}),s("el-table-column",{attrs:{prop:"schemaName",label:"库名",width:"100"}}),s("el-table-column",{attrs:{prop:"tableName",label:"表名",width:"250"}}),s("el-table-column",{attrs:{prop:"tecOwner",label:"技术负责人",width:"150"}}),s("el-table-column",{attrs:{prop:"metricName",label:"指标名称",width:"200"}}),s("el-table-column",{attrs:{prop:"assessProblem",label:"考评说明",width:"600"}}),s("el-table-column",{attrs:{label:"处理"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("router-link",{directives:[{name:"show",rawName:"v-show",value:t.row.governanceUrl,expression:"scope.row.governanceUrl"}],attrs:{to:t.row.governanceUrl?t.row.governanceUrl:""}},[s("el-button",{attrs:{type:"text",size:"medium"}},[e._v("跳转处理")])],1)]}}])})],1),s("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.pageNo,total:e.total,"page-size":e.pageSize,"page-sizes":[5,10,20,30,40,50,100],layout:"sizes, prev, pager, next, jumper, ->, total, slot"},on:{"current-change":e.fetchData,"size-change":e.changeSize}})],1)},S=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"10px"}},[s("strong",[e._v("治理问题项")])])}],C={data:function(){return{isLoading:!1,activeName:"first",scoreList:[],problemList:[],total:0,pageNo:1,pageSize:5,governType:"SPEC",optionCode:"",problemNum:{SPEC:0,STORAGE:0,CALC:0,QUALITY:0,SECURITY:0}}},mounted:function(){this.init()},methods:{init:function(){this.getProblemNum(),this.fetchData(1)},getProblemNum:function(){var e=this;d.getProblemNum().then((function(t){console.log(" res:"+t),e.problemNum=t})).catch((function(e){console.log("失败"+e)}))},handleClick:function(e,t){this.pageNo=1,this.pageSize=5,this.governType="","0"===e.index?this.governType="SPEC":"1"===e.index?this.governType="STORAGE":"2"===e.index?this.governType="CALC":"3"===e.index?this.governType="QUALITY":"4"===e.index&&(this.governType="SECURITY"),this.fetchData(this.pageNo),console.log(e,t)},changeSize:function(e){console.log(e),this.pageSize=e,this.fetchData(1)},globalDetailList:function(e){this.optionCode=e,this.fetchData(1)},fetchData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log("翻页。。。"+t),this.pageNo=t,d.getProblemList(this.governType,this.pageNo,this.pageSize).then((function(t){console.log("-----"+e.governType),e.listLoading=!0,e.problemList=t,e.total=e.problemNum[e.governType],e.listLoading=!1}))},toggleLoading:function(e){this.isLoading=e}}},x=C,z=Object(f["a"])(x,D,S,!1,null,null,null),N=z.exports,O={components:{healthDegree:h,governRank:L,governProblem:N},data:function(){return{}},methods:{refresh:function(){this.$refs.healthDegree.init(),this.$refs.governRank.init(),this.$refs.governProblem.init()},toggleLoading:function(e){this.$refs.healthDegree.toggleLoading(e),this.$refs.governRank.toggleLoading(e),this.$refs.governDetail.toggleLoading(e)}}},T=O,E=Object(f["a"])(T,a,n,!1,null,null,null);t["default"]=E.exports}}]);